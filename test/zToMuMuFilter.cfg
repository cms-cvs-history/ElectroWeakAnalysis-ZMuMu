process ZMuMuFiltering = {

  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  untracked PSet options = {
    untracked bool wantSummary = true  # default is false
  }

  source = PoolSource {
    untracked vstring fileNames = {
      "file:zToMuMu.root"
    }
  }

  untracked PSet maxEvents = {
    untracked int32 input = 100
  }

  module zMuMuFilter = ZToMuMuFilter {
    InputTag zCands = zToMuMu
    InputTag muonIsolations1 = allMuonIsolations
    InputTag muonIsolations2 = allMuonIsolations
    double ptMin = 20
    double etaMin = -2
    double etaMax = 2
    double massMin = 20
    double massMax = 150
    double isoMax = 2
  }

  module zMuOneTrackFilter = ZToMuMuFilter {
    InputTag zCands = zToMuMuOneTrack
    InputTag muonIsolations1 = allMuonIsolations
    InputTag muonIsolations2 = allTrackIsolations
    double ptMin = 20
    double etaMin = -2
    double etaMax = 2
    double massMin = 20
    double massMax = 150
    double isoMax = 2
  }

  module zMuOneStandAloneMuonTrackFilter = ZToMuMuFilter {
    InputTag zCands = zToMuMuOneStandAloneMuonTrack
    InputTag muonIsolations1 = allMuonIsolations
    InputTag muonIsolations2 = allStandAloneMuonTrackIsolations
    double ptMin = 20
    double etaMin = -2
    double etaMax = 2
    double massMin = 20
    double massMax = 150
    double isoMax = 2
  }

  module eventInfo = AsciiOutputModule { 
  }

  path p1 = { zMuMuFilter }	
  path p2 = { zMuOneTrackFilter }	
  path p3 = { zMuOneStandAloneMuonTrackFilter }	

  endpath e = { 
    eventInfo 
  }
}
